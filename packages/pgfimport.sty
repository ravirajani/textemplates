\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{pgfimport}
\RequirePackage{kvoptions}

\SetupKeyvalOptions{
    family=PGFI,
    prefix=PGFI@
}

\DeclareStringOption[out]{outdir}

\ProcessKeyvalOptions*

\RequirePackage[outdir=\PGFI@outdir/]{pgfcache}
\setpgfpreamble{%
    \usepackage{amsmath}
    \usepackage{newtxtext}
    \usepackage{newtxmath}
}

\newcommand{\pgfimport}[2][.]{%
    \importpgf{#1}{#2.pgf}%
}