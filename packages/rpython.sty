\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{rpython}
\RequirePackage{kvoptions}

\SetupKeyvalOptions{
  family=RPY,
  prefix=RPY@
}

\DeclareBoolOption{verbatim}

\ProcessKeyvalOptions*

\ifRPY@verbatim
  \PassOptionsToPackage{verbatim=true}{minted}
\fi

\RequirePackage{minted}

\setminted{%
  xleftmargin=\dimexpr \labelsep + 1ex \relax,
  linenos,
  fontfamily=tt,
  numbersep=1ex,
  escapeinside=``
}
\newminted[python]{python}{}
\newmintinline[py]{python}{escapeinside=``}
